{% extends 'base.html' %}
{% block title %}
Order Detail
{% endblock title %}
{% block header %}
{% include 'include/background_panel.html' with background_title="Order Info" %}
{% endblock header %}

{% block content %}
    <main class="main">
        <div class="wrapper">
            <div class="order-detail">
                <h2 class="title__order">Order: {{ order.id }}</h2>
                <ul class="order-detail__info">
                    <li class="order-detail__date"><span class="order-detail__info-title">Date:</span>{{ order.created }}</li>
                    <li class="order-detail__customer"><span class="order-detail__info-title">Name:</span>{{ order.first_name }}</li>
                    <li class="order-detail__address"><span class="order-detail__info-title">Address:</span>{{ order.address }}, {{ order.postal_code }}</li>
                </ul>
                <div class="order-detail__table">
                    <div class="cart__title-box">
                        <div class="cart__title-item">Product name</div>
                        <div class="cart__title-item cart__title-price">Price</div>
                        <div class="cart__title-item cart__title-quantity">Quantity</div>
                        <div class="cart__title-item">Total</div>
                    </div>
                    <div class="cart__table-box">
                        {% for cake_unit in order.units.all %}
                            <div class="cart__table-item">
                                <div class="cart__table-cell cart__product-name">{{ cake_unit.cake.cake_name }}</div>
                                <div class="cart__table-cell cart__product-price">${{ cake_unit.cake.price }}</div>
                                <div class="cart__table-cell cart__product-quantity">{{ cake_unit.quantity}}</div>
                                <div class="cart__table-cell cart__product-total">${{ cake_unit.get_total_cost }}</div>
                            </div>
                        {% endfor %}
                    </div>
                    <div class="cart__table-footer">
                        <div class="table-footer__item">
                            <div class="table-footer__item-title">Shipping:</div>
                            <div class="total__price-box">$<span class="total__price">{{ order.shipping }}</span></div>
                        </div>
                        <div class="table-footer__item">
                            <div class="table-footer__item-title">Total price:</div>
                            <div class="total__price-box">$<span class="total__price">{{ order.total_price }}</span></div>
                        </div>
                    </div>
                </div>
                <a href="{% url 'catalog:cakes_catalog' %}" class="btn__loader cart__back-btn">
            <span class="button__text">Back to shop</span>
            <div class="btn__loader-box">
                <svg class="loader__svg" fill="#ffffff" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                    viewBox="0 0 294.843 294.843" style="enable-background:new 0 0 294.843 294.843;" xml:space="preserve">
                    <g>
                        <path d="M147.421,0c-3.313,0-6,2.687-6,6s2.687,6,6,6c74.671,0,135.421,60.75,135.421,135.421s-60.75,135.421-135.421,135.421
                            S12,222.093,12,147.421c0-50.804,28.042-96.902,73.183-120.305c2.942-1.525,4.09-5.146,2.565-8.088
                            c-1.525-2.942-5.147-4.09-8.088-2.565C30.524,41.937,0,92.118,0,147.421c0,81.289,66.133,147.421,147.421,147.421
                            s147.421-66.133,147.421-147.421S228.71,0,147.421,0z"/>
                        <path d="M205.213,71.476c-16.726-12.747-36.71-19.484-57.792-19.484c-52.62,0-95.43,42.81-95.43,95.43s42.81,95.43,95.43,95.43
                            c25.49,0,49.455-9.926,67.479-27.951c2.343-2.343,2.343-6.142,0-8.485c-2.343-2.343-6.143-2.343-8.485,0
                            c-15.758,15.758-36.709,24.436-58.994,24.436c-46.003,0-83.43-37.426-83.43-83.43s37.426-83.43,83.43-83.43
                            c36.894,0,69.843,24.715,80.126,60.104c0.924,3.182,4.253,5.011,7.436,4.087c3.182-0.925,5.012-4.254,4.087-7.436
                            C233.422,101.308,221.398,83.809,205.213,71.476z"/>
                        <path d="M217.773,129.262c-2.344-2.343-6.143-2.343-8.485,0c-2.343,2.343-2.343,6.142,0,8.485l22.57,22.571
                            c1.125,1.125,2.651,1.757,4.243,1.757s3.118-0.632,4.243-1.757l22.57-22.571c2.343-2.343,2.343-6.142,0-8.485
                            c-2.344-2.343-6.143-2.343-8.485,0l-18.328,18.328L217.773,129.262z"/>
                    </g>
                </svg>

            </div>
        </a>
            </div>
        </div>
    </main>
{% endblock content %}