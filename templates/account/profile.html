{% extends 'base.html' %}
{% block title %}
Profile
{% endblock title %}
{% block header %}
{% include 'include/background_profile.html' %}
{% endblock header %}

{% block content %}
<main class="main">
    <section class="profile__box">
        <div class="wrapper">
            <a class="tab__current" href="#"></a>
            <div class="tabs profile__tabs">
                <a href="#tabProfile__1" class="tab__item tabProfile__item">Profile Info</a>
                <a href="#tabProfile__2" class="tab__item tabProfile__item">Change Password</a>
                <a href="#tabProfile__3" class="tab__item tabProfile__item">Orders</a>
            </div>
            <div id="tabProfile__1" class="profile__content">
                <form method="post" action="{% url 'account_profile' %}" class="profile-info__form">
                    {% csrf_token %}
                    <div class="profile-info__box">
                        <div class="profile-info-inner">
                            <div class="profile-info__item">
                                <label for="profile-f-name" class="profile-info__label">First name:</label>
                                <input id="profile-f-name" name="first_name" type="text" class="profile-info__input" value="{{ profile_data.first_name.value|default_if_none:"" }}">
                            </div>
                            <div class="profile-info__item">
                                <label for="profile-l-name" class="profile-info__label">Last name: </label>
                                <input id="profile-l-name" name="last_name" type="text" class="profile-info__input" value="{{ profile_data.last_name.value|default_if_none:"" }}">
                            </div>
                            <div class="profile-info__item">
                                <label for="profile-phone" class="profile-info__label">Phone:</label>
                                <input id="profile-phone" name="phone_number" type="text" class="profile-info__input" value="{{ profile_data.phone_number.value|default_if_none:"" }}">
                            </div>
                            <div class="profile-info__item">
                                <label for="profile-email" class="profile-info__label">Email:</label>
                                <input id="profile-email" name="email" type="email" class="profile-info__input"  value="{{ profile_data.email.value|default_if_none:"" }}">
                            </div>
                            <div class="profile-info__item">
                                <label for="profile-address" class="profile-info__label" value="">Address:</label>
                                <input id="profile-address" name="address" type="text" class="profile-info__input" value="{{ profile_data.address.value|default_if_none:"" }}">
                            </div>
                            <div class="profile-info__item">
                                <label for="profile-post-code" class="profile-info__label" value="">Postal code:</label>
                                <input id="profile-post-code" name="postal_code" type="text" class="profile-info__input" value="{{ profile_data.postal_code.value|default_if_none:"" }}">
                            </div>
                            <div class="profile-info__item">
                                <label for="profile-city" class="profile-info__label" value="">City:</label>
                                <input id="profile-city" name="city" type="text" class="profile-info__input" value="{{ profile_data.city.value|default_if_none:"" }}">
                            </div>
                            <div class="profile-info__item">
                                <label for="profile-state" class="profile-info__label" value="">State:</label>
                                <input id="profile-state" name="state" type="text" class="profile-info__input" value="{{ profile_data.state.value|default_if_none:"" }}">
                            </div>
                        </div>
                        <div class="profile-info__btn-box">
                            <button type="submit" name="user_info" class="btn__loader btn__form">
                                <span class="button__text">Save changes</span>
                                <span class="btn__loader-box">
                                    <svg class="loader__svg" fill="#ffffff" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                        viewBox="0 0 294.843 294.843" style="enable-background:new 0 0 294.843 294.843;" xml:space="preserve">
                                        <g>
                                            <path d="M147.421,0c-3.313,0-6,2.687-6,6s2.687,6,6,6c74.671,0,135.421,60.75,135.421,135.421s-60.75,135.421-135.421,135.421
                                                S12,222.093,12,147.421c0-50.804,28.042-96.902,73.183-120.305c2.942-1.525,4.09-5.146,2.565-8.088
                                                c-1.525-2.942-5.147-4.09-8.088-2.565C30.524,41.937,0,92.118,0,147.421c0,81.289,66.133,147.421,147.421,147.421
                                                s147.421-66.133,147.421-147.421S228.71,0,147.421,0z"/>
                                            <path d="M205.213,71.476c-16.726-12.747-36.71-19.484-57.792-19.484c-52.62,0-95.43,42.81-95.43,95.43s42.81,95.43,95.43,95.43
                                                c25.49,0,49.455-9.926,67.479-27.951c2.343-2.343,2.343-6.142,0-8.485c-2.343-2.343-6.143-2.343-8.485,0
                                                c-15.758,15.758-36.709,24.436-58.994,24.436c-46.003,0-83.43-37.426-83.43-83.43s37.426-83.43,83.43-83.43
                                                c36.894,0,69.843,24.715,80.126,60.104c0.924,3.182,4.253,5.011,7.436,4.087c3.182-0.925,5.012-4.254,4.087-7.436
                                                C233.422,101.308,221.398,83.809,205.213,71.476z"/>
                                            <path d="M217.773,129.262c-2.344-2.343-6.143-2.343-8.485,0c-2.343,2.343-2.343,6.142,0,8.485l22.57,22.571
                                                c1.125,1.125,2.651,1.757,4.243,1.757s3.118-0.632,4.243-1.757l22.57-22.571c2.343-2.343,2.343-6.142,0-8.485
                                                c-2.344-2.343-6.143-2.343-8.485,0l-18.328,18.328L217.773,129.262z"/>
                                        </g>
                                    </svg>
                                </span>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
            <div id="tabProfile__2" class="profile__content">
                <form method="post" id="profile-password__form" class="profile-info__form profile-info-pass__form">
                    {% csrf_token %}
                    <div class="profile-info__form">
                        <div class="profile-info__item">
                            <label for="profile-pass-current" class="profile-info__label">Current password:</label>
                            {{ password_update.passwordOld }}
                        </div>
                        <div class="profile-info__item">
                            <label for="profile-pass-new" class="profile-info__label">New Password:</label>
                            {{ password_update.passwordNew }}
                        </div>
                        <div class="profile-info__item">
                            <label for="profile-pass-confirm" class="profile-info__label">Confirm Password:</label>
                            {{ password_update.passwordConf }}
                        </div>
                    </div>
                    <div class="profile-info__btn-box">
                        <button name="change" type="submit" class="btn__loader btn__form">
                            <span class="button__text">Change Password</span>
                            <span class="btn__loader-box">
                                <svg class="loader__svg" fill="#ffffff" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                    viewBox="0 0 294.843 294.843" style="enable-background:new 0 0 294.843 294.843;" xml:space="preserve">
                                    <g>
                                        <path d="M147.421,0c-3.313,0-6,2.687-6,6s2.687,6,6,6c74.671,0,135.421,60.75,135.421,135.421s-60.75,135.421-135.421,135.421
                                            S12,222.093,12,147.421c0-50.804,28.042-96.902,73.183-120.305c2.942-1.525,4.09-5.146,2.565-8.088
                                            c-1.525-2.942-5.147-4.09-8.088-2.565C30.524,41.937,0,92.118,0,147.421c0,81.289,66.133,147.421,147.421,147.421
                                            s147.421-66.133,147.421-147.421S228.71,0,147.421,0z"/>
                                        <path d="M205.213,71.476c-16.726-12.747-36.71-19.484-57.792-19.484c-52.62,0-95.43,42.81-95.43,95.43s42.81,95.43,95.43,95.43
                                            c25.49,0,49.455-9.926,67.479-27.951c2.343-2.343,2.343-6.142,0-8.485c-2.343-2.343-6.143-2.343-8.485,0
                                            c-15.758,15.758-36.709,24.436-58.994,24.436c-46.003,0-83.43-37.426-83.43-83.43s37.426-83.43,83.43-83.43
                                            c36.894,0,69.843,24.715,80.126,60.104c0.924,3.182,4.253,5.011,7.436,4.087c3.182-0.925,5.012-4.254,4.087-7.436
                                            C233.422,101.308,221.398,83.809,205.213,71.476z"/>
                                        <path d="M217.773,129.262c-2.344-2.343-6.143-2.343-8.485,0c-2.343,2.343-2.343,6.142,0,8.485l22.57,22.571
                                            c1.125,1.125,2.651,1.757,4.243,1.757s3.118-0.632,4.243-1.757l22.57-22.571c2.343-2.343,2.343-6.142,0-8.485
                                            c-2.344-2.343-6.143-2.343-8.485,0l-18.328,18.328L217.773,129.262z"/>
                                    </g>
                                </svg>
                            </span>
                        </button>
                    </div>
                </form>
            </div>
            <div id="tabProfile__3" class="profile__content">
                <div class="profile-orders">
                    <div class="cart__title-box">
                        <div class="cart__title-item">Order</div>
                        <div class="cart__title-item">Status</div>
                        <div class="cart__title-item">Total</div>
                        <div class="cart__title-item">Date</div>
                    </div>
                    <div class="cart__table-box">
                        {% for order in request.user.order_user.all %}
                            <div class="cart__table-item">
                            <a href="#" class="cart__table-cell profile-order__order">{{ order.id }}</a>
                            <div class="cart__table-cell profile-order__status">{{ order.order_status }}</div>
                            <div class="cart__table-cell profile-order__total">${{ order.total_price }}</div>
                            <div class="cart__table-cell profile-order__date">{{ order.created|date }}</div>
                            <div class="cart__table-cell profile-order__btn">
                                <a href="{% url 'profile_order_detail' order.id %}" class="btn__loader cart__back-btn">
                                    <span class="button__text">Detail</span>
                                    <div class="btn__loader-box">
                                        <svg class="loader__svg" fill="#ffffff" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                            viewBox="0 0 294.843 294.843" style="enable-background:new 0 0 294.843 294.843;" xml:space="preserve">
                                            <g>
                                                <path d="M147.421,0c-3.313,0-6,2.687-6,6s2.687,6,6,6c74.671,0,135.421,60.75,135.421,135.421s-60.75,135.421-135.421,135.421
                                                    S12,222.093,12,147.421c0-50.804,28.042-96.902,73.183-120.305c2.942-1.525,4.09-5.146,2.565-8.088
                                                    c-1.525-2.942-5.147-4.09-8.088-2.565C30.524,41.937,0,92.118,0,147.421c0,81.289,66.133,147.421,147.421,147.421
                                                    s147.421-66.133,147.421-147.421S228.71,0,147.421,0z"/>
                                                <path d="M205.213,71.476c-16.726-12.747-36.71-19.484-57.792-19.484c-52.62,0-95.43,42.81-95.43,95.43s42.81,95.43,95.43,95.43
                                                    c25.49,0,49.455-9.926,67.479-27.951c2.343-2.343,2.343-6.142,0-8.485c-2.343-2.343-6.143-2.343-8.485,0
                                                    c-15.758,15.758-36.709,24.436-58.994,24.436c-46.003,0-83.43-37.426-83.43-83.43s37.426-83.43,83.43-83.43
                                                    c36.894,0,69.843,24.715,80.126,60.104c0.924,3.182,4.253,5.011,7.436,4.087c3.182-0.925,5.012-4.254,4.087-7.436
                                                    C233.422,101.308,221.398,83.809,205.213,71.476z"/>
                                                <path d="M217.773,129.262c-2.344-2.343-6.143-2.343-8.485,0c-2.343,2.343-2.343,6.142,0,8.485l22.57,22.571
                                                    c1.125,1.125,2.651,1.757,4.243,1.757s3.118-0.632,4.243-1.757l22.57-22.571c2.343-2.343,2.343-6.142,0-8.485
                                                    c-2.344-2.343-6.143-2.343-8.485,0l-18.328,18.328L217.773,129.262z"/>
                                            </g>
                                        </svg>

                                    </div>
                                </a>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>
{% endblock content %}